import{bP as Z,bs as q,bu as x,bQ as A,ah as ee,br as k,ae as D,bG as I,bR as te,a7 as R,b7 as ne,d as ae,B as m,I as re,ab as y,bL as ie,bS as oe,ag as V,bT as se,a0 as U,a6 as ue,a8 as le,aa as ce,aC as de,e as X,o as K,w as Y,r as W}from"./index-DI_G0BoI.js";import{c as pe}from"./selection-RwR5yAin.js";const B={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ve=Object.keys(B);B.all=!0;function z(t){const n={};for(const r of ve)t[r]===!0&&(n[r]=!0);return Object.keys(n).length===0?B:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const fe=["INPUT","TEXTAREA"];function j(t,n){return n.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof n.handler=="function"&&fe.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(n.uid)===-1)}function me(t){const n=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((r,u)=>{const p=parseFloat(r);p&&(n[u]=p)}),n}const he=Z({name:"touch-swipe",beforeMount(t,{value:n,arg:r,modifiers:u}){if(u.mouse!==!0&&x.has.touch!==!0)return;const p=u.mouseCapture===!0?"Capture":"",e={handler:n,sensitivity:me(r),direction:z(u),noop:ee,mouseStart(i){j(i,e)&&te(i)&&(k(e,"temp",[[document,"mousemove","move",`notPassive${p}`],[document,"mouseup","end","notPassiveCapture"]]),e.start(i,!0))},touchStart(i){if(j(i,e)){const s=i.target;k(e,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),e.start(i)}},start(i,s){x.is.firefox===!0&&A(t,!0);const d=I(i);e.event={x:d.left,y:d.top,time:Date.now(),mouse:s===!0,dir:!1}},move(i){if(e.event===void 0)return;if(e.event.dir!==!1){D(i);return}const s=Date.now()-e.event.time;if(s===0)return;const d=I(i),h=d.left-e.event.x,l=Math.abs(h),b=d.top-e.event.y,c=Math.abs(b);if(e.event.mouse!==!0){if(l<e.sensitivity[1]&&c<e.sensitivity[1]){e.end(i);return}}else if(window.getSelection().toString()!==""){e.end(i);return}else if(l<e.sensitivity[2]&&c<e.sensitivity[2])return;const g=l/s,f=c/s;e.direction.vertical===!0&&l<c&&l<100&&f>e.sensitivity[0]&&(e.event.dir=b<0?"up":"down"),e.direction.horizontal===!0&&l>c&&c<100&&g>e.sensitivity[0]&&(e.event.dir=h<0?"left":"right"),e.direction.up===!0&&l<c&&b<0&&l<100&&f>e.sensitivity[0]&&(e.event.dir="up"),e.direction.down===!0&&l<c&&b>0&&l<100&&f>e.sensitivity[0]&&(e.event.dir="down"),e.direction.left===!0&&l>c&&h<0&&c<100&&g>e.sensitivity[0]&&(e.event.dir="left"),e.direction.right===!0&&l>c&&h>0&&c<100&&g>e.sensitivity[0]&&(e.event.dir="right"),e.event.dir!==!1?(D(i),e.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pe(),e.styleCleanup=w=>{e.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(P,50):P()}),e.handler({evt:i,touch:e.event.mouse!==!0,mouse:e.event.mouse,direction:e.event.dir,duration:s,distance:{x:l,y:c}})):e.end(i)},end(i){var s;e.event!==void 0&&(q(e,"temp"),x.is.firefox===!0&&A(t,!1),(s=e.styleCleanup)==null||s.call(e,!0),i!==void 0&&e.event.dir!==!1&&D(i),e.event=void 0)}};if(t.__qtouchswipe=e,u.mouse===!0){const i=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";k(e,"main",[[t,"mousedown","mouseStart",`passive${i}`]])}x.has.touch===!0&&k(e,"main",[[t,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const r=t.__qtouchswipe;r!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&r.end(),r.handler=n.value),r.direction=z(n.modifiers))},beforeUnmount(t){var r;const n=t.__qtouchswipe;n!==void 0&&(q(n,"main"),q(n,"temp"),x.is.firefox===!0&&A(t,!1),(r=n.styleCleanup)==null||r.call(n),delete t.__qtouchswipe)}});function be(){let t=Object.create(null);return{getCache:(n,r)=>t[n]===void 0?t[n]=typeof r=="function"?r():r:t[n],setCache(n,r){t[n]=r},hasCache(n){return Object.hasOwnProperty.call(t,n)},clearCache(n){n!==void 0?delete t[n]:t=Object.create(null)}}}const ge={name:{required:!0},disable:Boolean},Q={setup(t,{slots:n}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},V(n.default))}},ye={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Pe=["update:modelValue","beforeTransition","transition"];function Ce(){const{props:t,emit:n,proxy:r}=R(),{getCache:u}=be(),{registerTimeout:p}=ne();let e,i;const s=ae(null),d={value:null};function h(a){const o=t.vertical===!0?"up":"left";C((r.$q.lang.rtl===!0?-1:1)*(a.direction===o?1:-1))}const l=m(()=>[[he,h,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),b=m(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),c=m(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),g=m(()=>`--q-transition-duration: ${t.transitionDuration}ms`),f=m(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),w=m(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),P=m(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);re(()=>t.modelValue,(a,o)=>{const v=T(a)===!0?_(a):-1;i!==!0&&M(v===-1?0:v<_(o)?-1:1),d.value!==v&&(d.value=v,n("beforeTransition",a,o),p(()=>{n("transition",a,o)},t.transitionDuration))});function E(){C(1)}function N(){C(-1)}function $(a){n("update:modelValue",a)}function T(a){return a!=null&&a!==""}function _(a){return e.findIndex(o=>o.props.name===a&&o.props.disable!==""&&o.props.disable!==!0)}function F(){return e.filter(a=>a.props.disable!==""&&a.props.disable!==!0)}function M(a){const o=a!==0&&t.animated===!0&&d.value!==-1?"q-transition--"+(a===-1?b.value:c.value):null;s.value!==o&&(s.value=o)}function C(a,o=d.value){let v=o+a;for(;v!==-1&&v<e.length;){const S=e[v];if(S!==void 0&&S.props.disable!==""&&S.props.disable!==!0){M(a),i=!0,n("update:modelValue",S.props.name),setTimeout(()=>{i=!1});return}v+=a}t.infinite===!0&&e.length!==0&&o!==-1&&o!==e.length&&C(a,a===-1?e.length:-1)}function L(){const a=_(t.modelValue);return d.value!==a&&(d.value=a),!0}function O(){const a=T(t.modelValue)===!0&&L()&&e[d.value];return t.keepAlive===!0?[y(se,w.value,[y(P.value===!0?u(f.value,()=>({...Q,name:f.value})):Q,{key:f.value,style:g.value},()=>a)])]:[y("div",{class:"q-panel scroll",style:g.value,key:f.value,role:"tabpanel"},[a])]}function G(){if(e.length!==0)return t.animated===!0?[y(ie,{name:s.value},O)]:O()}function H(a){return e=oe(V(a.default,[])).filter(o=>o.props!==null&&o.props.slot===void 0&&T(o.props.name)===!0),e.length}function J(){return e}return Object.assign(r,{next:E,previous:N,goTo:$}),{panelIndex:d,panelDirectives:l,updatePanelsList:H,updatePanelIndex:L,getPanelContent:G,getEnabledPanels:F,getPanels:J,isValidPanelName:T,keepAliveProps:w,needsUniqueKeepAliveWrapper:P,goToPanelByOffset:C,goToPanel:$,nextPanel:E,previousPanel:N}}const xe=U({name:"QTabPanels",props:{...ye,...ue},emits:Pe,setup(t,{slots:n}){const r=R(),u=le(t,r.proxy.$q),{updatePanelsList:p,getPanelContent:e,panelDirectives:i}=Ce(),s=m(()=>"q-tab-panels q-panel-parent"+(u.value===!0?" q-tab-panels--dark q-dark":""));return()=>(p(n),ce("div",{class:s.value},e(),"pan",t.swipeable,()=>i.value))}}),ke={__name:"MySwipe",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const n=de(t,"modelValue");return(r,u)=>(K(),X(xe,{class:"tab",modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=p=>n.value=p),swipeable:"",animated:"","keep-alive":""},{default:Y(()=>[W(r.$slots,"default")]),_:3},8,["modelValue"]))}},we=U({name:"QTabPanel",props:ge,setup(t,{slots:n}){return()=>y("div",{class:"q-tab-panel",role:"tabpanel"},V(n.default))}}),_e={__name:"MySwipeTab",props:["name"],setup(t){return(n,r)=>(K(),X(we,{class:"tab",name:t.name},{default:Y(()=>[W(n.$slots,"default")]),_:3},8,["name"]))}};export{_e as _,ke as a};
