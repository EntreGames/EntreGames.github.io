import{A as _,B as g,C as V,c,f as y,a as m,b as t,v as $,t as d,x as C,u as s,_ as r,w as p,j as f,k,o as x,q as v}from"./index-DI_G0BoI.js";import{a as l,t as i}from"./app-WwhSjxh8.js";import{_ as b}from"./MyMsgs-Db-2nxTl.js";import{_ as w}from"./MyBack-B6YSjiOA.js";import"./MyMenu-DLR71LC4.js";import"./selection-RwR5yAin.js";const h={key:0,class:"page"},M={class:"row m5 g10"},B={class:"m5"},N={class:"row m5 g10 ctr"},R={class:"row m5 g10"},P={__name:"ChatPage",setup(q){const n=_().query,o=g(()=>l.chats2[n.uid]);return V(async()=>{o.value&&o.value.msgs.forEach(u=>u.read=!0)}),(u,e)=>o.value?(x(),c("div",h,[m("div",M,[t(w),t($,{class:"avatar",modelValue:o.value.from.photo,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.from.photo=a)},null,8,["modelValue"]),m("div",null,d(o.value.from.name),1),t(C,{modelValue:o.value.from.sex,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.from.sex=a)},null,8,["modelValue"]),e[7]||(e[7]=m("div",{class:"f1"},null,-1)),t(r,{i:"delete",onClick:e[2]||(e[2]=a=>s(l).emptyChat2(o.value))})]),t(b,{msgs:s(l).getMsgs2WithMenu(s(n).uid)},null,8,["msgs"]),m("div",B,[m("div",N,[t(f,{onClick:e[3]||(e[3]=a=>s(l).helpReply(s(n).uid))},{default:p(()=>[v(d(s(i).helpReply),1)]),_:1}),t(f,{onClick:e[4]||(e[4]=a=>s(l).helpReply(s(n).uid,!0)),disable:!s(l).msg2.body},{default:p(()=>[v(d(s(i).polishMsg),1)]),_:1},8,["disable"])]),m("div",R,[t(k,{modelValue:s(l).msg2.body,"onUpdate:modelValue":e[5]||(e[5]=a=>s(l).msg2.body=a),ph:s(i).editMsg},null,8,["modelValue","ph"]),t(r,{i:"north",onClick:e[6]||(e[6]=a=>s(l).wsSend(s(n).uid))})])])])):y("",!0)}};export{P as default};
