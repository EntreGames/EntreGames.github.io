import{d as y,c,a as t,b as a,t as d,u as s,x as k,k as U,w as m,j as g,g as V,h as w,M,o as n,q as f,f as C,v as B,z as N,_,e as $,Q as S}from"./index-BtKHKQ9f.js";import{t as u,a as l}from"./app-Cc_Hu_-L.js";import{_ as D}from"./MyMsgs-CPeRtto9.js";import{_ as F}from"./MyBack-BXd6h5Yv.js";import"./MyMenu-BTpviXz8.js";import"./selection-kG_J24FV.js";const P={class:"page"},Q={class:"row m5 g10"},j={class:"row ctr m5 g10"},q={key:0,class:"f1 col scroll"},z={key:0,class:"row unset m5 g10"},E={style:{width:"min(30%, 120px)"}},L={class:"f1"},R={class:"row"},T={class:"f1"},A={class:"blue bold"},G={class:"row g10"},H={class:"row"},I={key:1,class:"m10"},ee={__name:"MatchPage",setup(J){const r=y({msgs:[],show:!1});function x(h){r.value={msgs:h,show:!0}}return(h,o)=>{var v;return n(),c("div",P,[t("div",Q,[a(F),t("div",null,d(s(u).matches),1)]),t("div",j,[a(k,{modelValue:s(l).filters.sex,"onUpdate:modelValue":o[0]||(o[0]=e=>s(l).filters.sex=e),edit:""},null,8,["modelValue"]),a(U,{modelValue:s(l).filters.minSim,"onUpdate:modelValue":o[1]||(o[1]=e=>s(l).filters.minSim=e),lb:s(u).minSim,w:"100px"},null,8,["modelValue","lb"]),a(g,{onClick:o[2]||(o[2]=e=>s(l).search())},{default:m(()=>[f(d(s(u).filter),1)]),_:1})]),(v=s(l).matches)!=null&&v.length?(n(),c("div",q,[(n(!0),c(V,null,w(s(l).matches,e=>{var p;return n(),c("div",{key:e.chat.id},[(p=s(l).chats2[e.user.uid])!=null&&p.block?C("",!0):(n(),c("div",z,[t("div",E,[a(B,{class:"photo",modelValue:e.user.photo,"onUpdate:modelValue":i=>e.user.photo=i},null,8,["modelValue","onUpdate:modelValue"])]),t("div",L,[t("div",R,[a(k,{modelValue:e.user.sex,"onUpdate:modelValue":i=>e.user.sex=i},null,8,["modelValue","onUpdate:modelValue"]),t("div",T,d(e.user.name),1),t("div",A,d(s(N)(e.score)),1),a(_,{i:"mail",c:"blue",onClick:i=>s(l).startChat(e)},null,8,["onClick"])]),t("div",G,[(n(!0),c(V,null,w(e.chat.data.mod_tags,(i,b)=>(n(),$(S,{color:"red",key:b},{default:m(()=>[f(d(i),1)]),_:2},1024))),128))]),t("div",null,d(e.chat.data.summary),1),t("div",H,[a(g,{flat:"",c:"blue",onClick:i=>x(e.chat.data.msgs)},{default:m(()=>[f(d(s(u).viewFull),1)]),_:2},1032,["onClick"]),o[4]||(o[4]=t("div",{class:"f1"},null,-1)),s(l).bio.is_admin?(n(),$(_,{key:0,i:"delete",onClick:i=>s(l).delMatch(e)},null,8,["onClick"])):C("",!0),a(_,{i:"block",onClick:i=>s(l).blockUser(e.user)},null,8,["onClick"]),a(_,{i:"flag",onClick:i=>s(l).showReport("chats",e.chat.id,e.chat.data.summary)},null,8,["onClick"])])])]))])}),128))])):(n(),c("div",I,d(s(u).noMatch),1)),a(M,{modelValue:r.value.show,"onUpdate:modelValue":o[3]||(o[3]=e=>r.value.show=e)},{default:m(()=>[a(D,{msgs:r.value.msgs},null,8,["msgs"])]),_:1},8,["modelValue"])])}}};export{ee as default};
